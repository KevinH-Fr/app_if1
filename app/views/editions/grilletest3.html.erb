
<% if user_signed_in? %>

<br/>

      <h1 class="fa-solid fa-user fa-2xl fw-bold fs-1"> - Grille Pilotes </h1>   
      <hr/>

  <div class="container">
    <div class="row"> 
          <% @divisions.each do |division| %>
              <div class="col-md-auto">
                  <%= search_form_for(@q, url: '/editions/grilletest3', method: :get, class:'d-flex') do |f| %>
                      <%= f.hidden_field :division_id_eq, value: division.id %>

                          <% numDivision = Division.find(division.id).numero %>
                            <% if numDivision == 1 %>       
                              <%= f.submit division.nom, class:"btn btn-danger" %>
                            <% else %>
                            <% if numDivision == 2 %>     
                              <%= f.submit division.nom, class:"btn btn-primary" %>
                            <% end %>
                          <% end %>
                  
                      <%#= f.submit division.nom, class:"btn btn-dark" %>
                  <% end %>
              </div>
          <% end %>
      </div>
  </div>

  <hr/> <br/>

  <table class="table table-striped table-bordered table-hover">
    <thead class="table-dark">
      
      <tr>
        <th><%= sort_link(@q, :nom, "Nom", default_order: :asc) %></th>
      
      </tr>
    </thead>

    <tbody>
      <% @pilotes.each do |pilote| %>
            <tr>
            
              <%# test superposition %>
              <td>
                <div class="contenant">
                   <%= image_tag(Equipe.find(pilote.ecurie).logo, style: "width: 400px; display: block", class: "img-fluid rounded") %> 
                  <div class="texte_centrer"><%=  pilote.nom %></div>
                </div>
              </td>


            </tr>
      <% end %>
    </tbody>
  </table>

   <br/> <br/> <hr/> <br/>


   

<% else %>

  <h3> Vous n'avez pas les droits...</h3>
  
<% end %>

